<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸¥à¹ˆà¸²à¸ªà¸¸à¸”</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #0f0;
      padding: 20px;
    }
    ul { list-style: none; padding: 0; }
    li { margin: 8px 0; font-size: 1.2em; }
  </style>
</head>
<body>
  <h2>ğŸ à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸ˆà¸²à¸ TikTok</h2>
  <ul id="gift-list"><li>à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”...</li></ul>

  <script>
    async function fetchGifts() {
      const res = await fetch("https://webhook-dusky-beta.vercel.app/api/tiktok");
      const data = await res.json();
      const list = document.getElementById("gift-list");
      list.innerHTML = "";

      if (!data.recent || data.recent.length === 0) {
        list.innerHTML = "<li>à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¸­à¸‡à¸‚à¸§à¸±à¸</li>";
        return;
      }

      data.recent.forEach((gift) => {
        const item = document.createElement("li");
        item.textContent = `ğŸ‘¤ ${gift.username} à¸ªà¹ˆà¸‡ ğŸ ${gift.gift_name} Ã—${gift.amount}`;
        list.appendChild(item);
      });
    }

    setInterval(fetchGifts, 3000);
    fetchGifts();
  </script>
</body>
</html>
