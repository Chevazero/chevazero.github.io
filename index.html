<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>üéÅ ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #0f0;
      padding: 20px;
    }
    ul { list-style: none; padding: 0; }
    li { margin: 8px 0; font-size: 1.2em; }
  </style>
</head>
<body>
  <h2>üéÅ ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å TikTok</h2>
  <ul id="gift-list"><li>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</li></ul>

  <script>
    async function fetchGifts() {
      try {
        const res = await fetch("https://webhook-dusky-beta.vercel.app/api/tiktok");
        const data = await res.json();
        const list = document.getElementById("gift-list");
        list.innerHTML = "";

        if (!data.recent || data.recent.length === 0) {
          list.innerHTML = "<li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</li>";
          return;
        }

        data.recent.forEach((gift) => {
          const item = document.createElement("li");
          item.textContent = `üë§ ${gift.username} ‡∏™‡πà‡∏á üéÅ ${gift.gift_name} √ó${gift.amount}`;
          list.appendChild(item);
        });
      } catch (err) {
        document.getElementById("gift-list").innerHTML = `<li>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${err.message}</li>`;
      }
    }

    setInterval(fetchGifts, 3000);
    fetchGifts();
  </script>
</body>
</html>
